import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { withKnobs, text, boolean } from "@storybook/addon-knobs";
import {
  StarFilledIcon,
  CaretDownIcon,
  CollectionPublicIcon,
  StoryAddIcon,
  WorkFasterIcon,
  SalesforceIcon,
  CloneIcon,
  ShareIcon,
  TrashIcon,
} from "lib/icons/react";

import StackedButton from "./";

import ImportPath from 'util/storybook-docs/ImportPath';
import State from 'util/storybook-docs/State';

<Meta
  title="Components/StackedButton"
  decorators={[withKnobs]}
  component={StackedButton}
/>

# StackedButton

<ImportPath component={StackedButton} />

<Story name="Knobs" parameters={{ docs: { disable: true } }}>
  <StackedButton
    disabled={boolean("disabled", false)}
    Icon={StarFilledIcon}
    label={text("Text", "Stacked Button")}
    hasCaret={boolean("hasCaret", false)}
    isActive={boolean("isActive", undefined)}
  />
</Story>

<Preview isExpanded>
  <StackedButton Icon={StarFilledIcon} label="Stacked Button" />
</Preview>

<Props of={StackedButton} />

### isActive & isToggled

**Click to toggle on and off**.

<Story name="isActive & isToggled">
  <State
    initialValue={{}}
    render={(value, setValue) => {
      return (
        <>
          {[
            { label: "isActive", Icon: SalesforceIcon },
            { label: "isToggled", Icon: StarFilledIcon },
          ].map((item, idx) => (
            <StackedButton
              Icon={item.Icon}
              label={item.label}
              isToggled={item.label === "isToggled" && value[idx]}
              isActive={item.label === "isActive" && value[idx]}
              onClick={() =>
                setValue({ ...value, [idx]: !Boolean(value[idx]) })
              }
            />
          ))}
        </>
      );
    }}
  />
</Story>

### Misc

<Story name="Miscellaneous">
  <>
    <StackedButton
      Icon={CollectionPublicIcon}
      label="Add to Collections"
      hasCaret
    />
    <StackedButton
      Icon={CollectionPublicIcon}
      label="Add to Collections"
      hasCaret
      href="#"
    />
  </>
</Story>

### Example

<Story name="Example">
  <div
    className="padding--all alignChild--right--center"
    style={{ backgroundColor: "#f1f5f7" }}
  >
    <div>
      <StackedButton Icon={CloneIcon} label="Clone Collection" />
      <StackedButton Icon={ShareIcon} label="Share" />
      <StackedButton Icon={TrashIcon} label="Delete" hasCaret />
    </div>
  </div>
</Story>
