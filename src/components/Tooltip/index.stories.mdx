import { useRef } from 'react';
import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { withKnobs, optionsKnob as options, text, number } from '@storybook/addon-knobs';
import { arrayToOptions } from 'util/storybook-docs/knobHelpers';

import ImportPath from 'util/storybook-docs/ImportPath';;

import Tooltip, { VALID_TEXT_ALIGN } from 'components/Tooltip';
import { VALID_POSITIONS } from 'components/Popover';

<Meta title="Components/Tooltip" decorators={[withKnobs]} component={Tooltip} />

# Tooltip

<ImportPath component={Tooltip} />

<Story name="Knobs">
  <Tooltip
    trigger={<button>ℹ️ Hover Here!</button>}
    message={text('Message', 'Hello world!')}
    maxWidth={number('Max Width', 160)}
    position={options('Position', arrayToOptions(VALID_POSITIONS), 'bottom', {
      display: 'inline-radio',
    })}
    textAlign={options('Text align', arrayToOptions(VALID_TEXT_ALIGN), 'left', { display: 'inline-radio' })}
  />
</Story>

<Props of={Tooltip} />

## Ref

Supports directly adding a ref (try to only use if you need it)

<Preview>
  <Story name="Ref">
    {() => {
      const ref = useRef();
      return (
        <>
          <button ref={ref}>Trigger</button>
          <Tooltip
            message="Tooltip"
            triggerRef={ref}
          />
        </>
      )
    }}
  </Story>
</Preview>

## Interactive

Specifying interactive allows you to interact with the tooltip even in hover mode

<Preview>
  <Story name="Interactive">
    <Tooltip
      interactive
      trigger={<button>ℹ️ Hover Here!</button>}
      message='Hello world!'
    />
  </Story>
</Preview>

## Max Width

Tooltip comes with a default max width, but this can be customized

<Preview>
  <Story name="Max Width">
    <Tooltip
      interactive
      maxWidth={600}
      trigger={<button>ℹ️ Hover Here!</button>}
      message='Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.'
    />
  </Story>
</Preview>



