import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { withKnobs, object } from '@storybook/addon-knobs';
import Updatable from 'components/Updatable'
import Tooltip from 'components/Tooltip'
import FeedIcon from 'lib/icons/react/FeedIcon';

import ButtonGroup from '.';
import GroupButton from './GroupButton';

import ImportPath from 'util/storybook-docs/ImportPath';
import State from 'util/storybook-docs/State';

export const buttons = [
  { label: 'Lorem', Icon: FeedIcon, isActive: true },
  { label: 'Ipsum', Icon: FeedIcon, disabled: true },
  { label: 'Dolor', Icon: FeedIcon },
  { label: 'Sit', Icon: FeedIcon },
];

export const buttonsNoIcons = [
  { label: 'Lorem', disabled: true },
  { label: 'Ipsum' },
  { label: 'Dolor', isActive: true },
  { label: 'Sit' },
];

<Meta title="Components/ButtonGroup" decorators={[withKnobs]} component={ButtonGroup} />

# ButtonGroup

<ImportPath component={ButtonGroup} />

<Story name="Knobs" parameters={{ docs: { disable: true }}}>
  <ButtonGroup buttons={object('buttons', buttonsNoIcons)} />
</Story>

<Preview isExpanded>
  <ButtonGroup
    buttons={[
      { label: 'Lorem', disabled: true },
      { label: 'Ipsum' },
      { label: 'Dolor', isActive: true }
    ]} 
  />
</Preview>

<Props of={ButtonGroup} />
<Props of={GroupButton} />

### Button States

<Preview>
  <Story name="States">
    <State
      initialValue={1}
      onChange={console.log}
      render={((value, setValue) => {
        return (
          <ButtonGroup
            buttons={
              ['Lorem', 'Sit', 'Ipsum'].map((label, idx) => ({
                label: label, onClick: () => setValue(idx), isActive: value === idx
              }))
            }
          />
        )
      })}
    />
  </Story>
</Preview>

### Wrapper
Allows you to render a component around any of the individual buttons

<Preview>
  <Story name="Wrapper">
    <ButtonGroup buttons={[
      { label: 'Updatable', Wrapper: (props) => (<Updatable message="42">{props.children}</Updatable>) },
      { label: 'Tooltip',  Wrapper: (props) => (
        <Tooltip trigger={props.children} message="hey" maxWidth={240} />
      )},
    ]} 
    />
  </Story>
</Preview>



### Icons
(Displays on the left)

<Preview>
  <Story name="Icons">
    <ButtonGroup buttons={[
      { label: 'Lorem', Icon: FeedIcon },
      { label: 'Sit', Icon: FeedIcon  },
    ]} />
  </Story>
</Preview>
