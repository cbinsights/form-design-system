import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { withKnobs, text, optionsKnob as options } from '@storybook/addon-knobs';
import { arrayToOptions } from './util/storybook';
import { action } from '@storybook/addon-actions';

import Avatar, { VALID_BG_COLORS, SIZES } from './Avatar';

export const bgColorOptions = options('bgColor', arrayToOptions(VALID_BG_COLORS), undefined, {
  display: 'inline-radio',
});

<Meta title="Components|Avatar" decorators={[withKnobs]} component={Avatar} />

# Avatar

<Story name="Knobs">
  <Avatar
    bgColor={options('bgColor', arrayToOptions(VALID_BG_COLORS), undefined, {
      display: 'inline-radio',
    })}
    size={options('size', arrayToOptions(SIZES), undefined, {
      display: 'inline-radio',
    })}
    name={text('name', 'Samuel Jackson')}
    imgUrl={text('imgUrl', undefined)}
  />
</Story>

<Props of={Avatar} />

### Colors
Accepted colors are based off FDS `bgColor--{color}` classes: https://cbinsights.github.io/form-design-system/fds-styles/#background-colors

<Preview>
  <Story name="Colors">
    <div className="display--inlineFlex margin--all" style={{ flexWrap: 'wrap' }}>
      <div className="margin--right--half margin--bottom--half">
        <Avatar name="default" />
      </div>
      {VALID_BG_COLORS.map(bgColor => (
        <div className="margin--right--half margin--bottom--half">
          <Avatar name={`${bgColor.slice(0,1)} ${bgColor.slice(1,2)}`} bgColor={bgColor} />
        </div>
      ))}
      <br />
    </div>
  </Story>
</Preview>

### Images
Initials will show either if you don't pass an image, the image doesn't load, or it hasn't loaded yet.

<Preview>
  <Story name="Variations">
    <div className="display--inlineFlex margin--all" style={{ flexWrap: 'wrap' }}>
      <div className="margin--right--half margin--bottom--half">
        <Avatar name="Hello Impecable" imgUrl="http://placeimg.com/80/81/animals" />
      </div>
      <div className="margin--right--half margin--bottom--half">
        <Avatar name="Hello Impecable" imgUrl="invalid url" />
      </div>
      <br />
    </div>
  </Story>
</Preview>

### Sizes

<Preview>
  <Story name="Sizes">
    <div className="display--inlineFlex margin--all" style={{ flexWrap: 'wrap' }}>
      {SIZES.map(size => (
        <div className="margin--right--half margin--bottom--half">
          <Avatar name="Hello Impecable " size={size} />
        </div>
      ))}
      <br />
    </div>
  </Story>
</Preview>

### Button

Avatar will render as a button if you pass it a href, onClick, or Link to it.

<Preview>
  <Story name="Button">
    <div className="display--inlineFlex margin--all" style={{ flexWrap: 'wrap' }}>
      <div className="margin--right--half margin--bottom--half">
        <Avatar name="Hello Impecable" href="#" />
      </div>
      <div className="margin--right--half margin--bottom--half">
        <Avatar name="Hello Impecable" onClick={action('avatar-click')} />
      </div>
      <div className="margin--right--half margin--bottom--half">
        <Avatar name="Hello Impecable" imgUrl="http://placeimg.com/80/81/animals" href="#" />
      </div>
    </div>
  </Story>
</Preview>